<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pawfect Match - Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Nunito:wght@400;600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', 'Nunito', 'Quicksand', sans-serif;
            background-color: #ffffff; /* Soft pastel background */
            color: #ffffff;
        }
        .navbar {
            background-color: #000;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .navbar-brand {
            color: #fff;
            font-weight: 600;
        }
        .navbar-brand:hover {
            color: #ddd;
        }
        .nav-link {
            color: #fff;
            cursor: pointer;
        }
        .nav-link:hover {
            color: #ddd;
        }
        .btn {
            background-color: #fff3b0; /* Pastel yellow */
            color: #333;
            font-weight: 600;
            border: none;
        }
        .btn:hover {
            background-color: #ffe680;
        }
        .hero {
            position: relative;
            background: url('images/image1.jpg') no-repeat center center/cover;
            height: 80vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: #ffffff;
            overflow: hidden;
        }
        .hero::before {
            content: "";
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.4); /* Adjust transparency here */
            z-index: 1;
        }
        .hero > * {
            position: relative;
            z-index: 2;
        }
        .hero h1 {
            font-size: 3rem;
            font-weight: 600;
        }
        .hero p {
            font-size: 1.5rem;
            margin-bottom: 20px;
        }
        .how-it-works, .featured-pets, .testimonials, footer {
            padding: 50px 20px;
            color: #000;
        }
        .how-it-works-image-card {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }
        .how-it-works-img {
            width: 100%;
            aspect-ratio: 16/9;
            object-fit: cover;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            opacity: 0.7;
            transition: opacity 0.3s;
            display: block;
        }
        .how-it-works-image-card:hover .how-it-works-img {
            opacity: 0.9;
        }
        .how-it-works-btn-minimal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.5);
            border: none;
            border-radius: 50px;
            padding: 16px 32px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            box-shadow: 0 2px 12px rgba(0,0,0,0.10);
            transition: background 0.3s, color 0.3s, box-shadow 0.3s, transform 0.3s;
            cursor: pointer;
            letter-spacing: 1px;
            z-index: 2;
        }
        .how-it-works-btn-minimal:hover {
            background: rgba(0,0,0,0.7);
            color: #fff;
            box-shadow: 0 6px 24px rgba(0,0,0,0.16);
            transform: translate(-50%, -50%) scale(1.08);
        }
        @media (max-width: 991px) {
            .how-it-works .row {
                flex-direction: column;
                align-items: center;
            }
            .how-it-works-image-card {
                max-width: 90vw;
            }
        }
        @media (max-width: 575px) {
            .how-it-works-image-card {
                max-width: 98vw;
            }
            .how-it-works-img {
                aspect-ratio: 16/10;
            }
            .how-it-works-btn-minimal {
                padding: 10px 18px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Pawfect Match</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#how-it-works">How It Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#featured-pets">Featured Pets</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#testimonials">Testimonials</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#signupModal">Signup</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div id="welcomeMessage" style="display: none; margin-bottom: 20px;">
            <h1 style="font-size: 2.5rem;">Hi, <span id="userName"></span>! üëã</h1>
            <p style="font-size: 1.2rem;">Welcome back to Pawfect Match</p>
        </div>
        <div id="defaultMessage">
            <h1>Find your forever friend üêæ</h1>
            <p>Every pet deserves a loving home. We connect compassionate families with animals waiting for their second chance.</p>
        </div>
        <div>
            <a href="browse-pets.html" class="btn me-3">Adopt Now</a>
            <a href="give-pet-for-adoption.html" class="btn">Give a Pet for Adoption</a>
        </div>
    </section>

    <!-- How It Works -->
    <section id="how-it-works" class="how-it-works">
        <h2>How It Works</h2>
        <p>Simple steps to find your new friend</p>
        <div class="how-it-works-cards d-flex flex-wrap justify-content-center">
            <div class="how-it-works-card position-relative m-3" style="flex: 1 1 300px; max-width: 350px;">
                <img src="images/image6.png" alt="Search" class="how-it-works-img w-100">
                <div class="how-it-works-card-overlay position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.45); border-radius:18px;"></div>
                <div class="how-it-works-card-content position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-start text-start px-4 py-3" style="z-index:2;">
                    <div class="how-it-works-card-title fs-6 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Search</div>
                    <div class="how-it-works-card-headline fs-4 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Browse our pets</div>
                    <div class="how-it-works-card-desc text-white mb-2" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Find your match</div>
                    <a href="adoption-guide.html#learn" class="how-it-works-card-link btn btn-light mt-2">Learn &gt;</a>
                </div>
            </div>
            <div class="how-it-works-card position-relative m-3" style="flex: 1 1 300px; max-width: 350px;">
                <img src="images/image3.jpg" alt="Meet" class="how-it-works-img w-100">
                <div class="how-it-works-card-overlay position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.45); border-radius:18px;"></div>
                <div class="how-it-works-card-content position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-start text-start px-4 py-3" style="z-index:2;">
                    <div class="how-it-works-card-title fs-6 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Meet</div>
                    <div class="how-it-works-card-headline fs-4 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Connect with your potential pet</div>
                    <div class="how-it-works-card-desc text-white mb-2" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Understand their personality</div>
                    <a href="adoption-guide.html#meet" class="how-it-works-card-link btn btn-light mt-2">Meet &gt;</a>
                </div>
            </div>
            <div class="how-it-works-card position-relative m-3" style="flex: 1 1 300px; max-width: 350px;">
                <img src="images/image5.jpg" alt="Adopt" class="how-it-works-img w-100">
                <div class="how-it-works-card-overlay position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0,0,0,0.45); border-radius:18px;"></div>
                <div class="how-it-works-card-content position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-start text-start px-4 py-3" style="z-index:2;">
                    <div class="how-it-works-card-title fs-6 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Adopt</div>
                    <div class="how-it-works-card-headline fs-4 fw-bold text-white mb-1" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Bring your new family member home</div>
                    <div class="how-it-works-card-desc text-white mb-2" style="text-shadow:0 2px 8px rgba(0,0,0,0.5);">Start your life together</div>
                    <a href="browse-pets.html" class="how-it-works-card-link btn btn-light mt-2">Adopt &gt;</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Pets -->
    <section id="featured-pets" class="featured-pets">
        <h2>Featured Pets</h2>
        <div class="row justify-content-center">
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px; overflow:hidden;">
                    <div style="width:100%; padding-bottom:100%; position:relative; background:#e0e0e0;">
                        <img src="images/pet3.jpg" alt="Max" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" style="color:#333; font-weight:600;">Max</h5>
                        <p class="text-muted mb-2">Golden Retriever ‚Ä¢ 6 months</p>
                        <p class="card-text" style="color:#555;">Friendly and energetic, loves to play fetch and great with kids!</p>
                        <a href="browse-pets.html" class="btn btn-warning btn-sm">Adopt Me</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px; overflow:hidden;">
                    <div style="width:100%; padding-bottom:100%; position:relative; background:#e0e0e0;">
                        <img src="images/pet1.jpg" alt="Bella" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" style="color:#333; font-weight:600;">Bella</h5>
                        <p class="text-muted mb-2">Persian Cat ‚Ä¢ 2 years</p>
                        <p class="card-text" style="color:#555;">Calm and affectionate, perfect lap cat who loves cuddles.</p>
                        <a href="browse-pets.html" class="btn btn-warning btn-sm">Adopt Me</a>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px; overflow:hidden;">
                    <div style="width:100%; padding-bottom:100%; position:relative; background:#e0e0e0;">
                        <img src="images/pet2.jpg" alt="Charlie" style="position:absolute; top:0; left:0; width:100%; height:100%; object-fit:cover;">
                    </div>
                    <div class="card-body">
                        <h5 class="card-title" style="color:#333; font-weight:600;">Charlie</h5>
                        <p class="text-muted mb-2">Rabbit ‚Ä¢ 1 year</p>
                        <p class="card-text" style="color:#555;">Loyal companion, well-trained and loves outdoor adventures.</p>
                        <a href="browse-pets.html" class="btn btn-warning btn-sm">Adopt Me</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section id="testimonials" class="testimonials">
        <h2>We Found a Match!</h2>
        <p>Real stories from families who found love</p>
        <div class="row justify-content-center">
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px;">
                    <div class="d-flex align-items-center p-3">
                        <img src="images/image4.jpg" alt="Owner and Pet" style="width:64px; height:64px; object-fit:cover; border-radius:50%; margin-right:16px;">
                        <div>
                            <strong>Sarah & evie</strong>
                            <div class="text-warning">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star-half-alt"></i>
                            </div>
                        </div>
                    </div>
                    <div class="card-body pt-0">
                        <p class="card-text">‚ÄúEvie has brought so much joy to our home. The adoption process was smooth and the team was so supportive!‚Äù</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px;">
                    <div class="d-flex align-items-center p-3">
                        <img src="images/image2.jpg" alt="Owner and Pet" style="width:64px; height:64px; object-fit:cover; border-radius:50%; margin-right:16px;">
                        <div>
                            <strong>Claire & Tucker</strong>
                            <div class="text-warning">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <div class="card-body pt-0">
                        <p class="card-text">‚ÄúTucker is the perfect companion. We‚Äôre so grateful for Pawfect Match!‚Äù</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm border-0" style="border-radius:18px;">
                    <div class="d-flex align-items-center p-3">
                        <img src="images/image7.jpg" alt="Owner and Pet" style="width:64px; height:64px; object-fit:cover; border-radius:50%; margin-right:16px;">
                        <div>
                            <strong>Tara & Luna</strong>
                            <div class="text-warning">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                        </div>
                    </div>
                    <div class="card-body pt-0">
                        <p class="card-text">‚ÄúLuna and I are inseparable! Thank you for helping us find each other.‚Äù</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact & Footer Section Starts -->
    <section style="background:#111; color:#fff; padding: 60px 0 0 0;">
        <div class="container">
            <div class="row">
                <!-- Logo and Address -->
                <div class="col-md-4 mb-4">
                    <div style="font-family: 'Poppins', cursive; font-size:2rem; font-weight:600; margin-bottom:1rem;">Logo</div>
                    <div>
                        <strong>Address</strong><br>
                        Raichandani complex,Gandipet Road,Hyderabad,500075
                    </div>
                    <div class="mt-3">
                        <strong>Contact</strong><br>
                        1800 pet match<br>
                        hello@pawfectmatch.com
                    </div>
                    <div class="mt-4 d-flex align-items-center">
                        <a href="#" class="text-white me-3" aria-label="Facebook"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-white me-3" aria-label="Instagram"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-white me-3" aria-label="X"><i class="fa-brands fa-x-twitter fa-lg"></i></a>
                        <a href="#" class="text-white me-3" aria-label="LinkedIn"><i class="fab fa-linkedin fa-lg"></i></a>
                        <a href="#" class="text-white me-3" aria-label="YouTube"><i class="fab fa-youtube fa-lg"></i></a>
                    </div>
                </div>
                <!-- Map -->
                <div class="col-md-4 mb-4">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d30459.001488616213!2d78.3027547!3d17.3937733!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bcb95c81b9894df%3A0x44e8002856bee016!2sRaichandani%20Square!5e0!3m2!1sgu!2sin!4v1761152793559!5m2!1sgu!2sin" 
                        width="100%" height="220" style="border:0; border-radius:10px;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
                <!-- Get in Touch Form -->
                <div class="col-md-4 mb-4" id="contact">
                    <form id="contactForm" style="background:#181818; padding:24px 20px; border-radius:10px;">
                        <h5 class="mb-3" style="font-weight:600;">Get in Touch</h5>
                        <div class="mb-3">
                            <input type="text" id="contactName" class="form-control bg-dark text-white border-0" placeholder="Your Name" required style="color:#fff !important;">
                        </div>
                        <div class="mb-3">
                            <input type="email" id="contactEmail" class="form-control bg-dark text-white border-0" placeholder="Your Email" required style="color:#fff !important;">
                        </div>
                        <div class="mb-3">
                            <textarea id="contactMessage" class="form-control bg-dark text-white border-0" rows="3" placeholder="Your Message" required style="color:#fff !important;"></textarea>
                        </div>
                        <button type="submit" class="btn btn-outline-light w-100">Contact Now</button>
                        <div id="contactFormMessage" class="mt-3"></div>
                    </form>
                </div>
            </div>
            <hr style="border-color: #333;">
            <div class="text-center pb-3" style="font-size:0.95rem;">
                ¬© 2024 Pawfect Match. All rights reserved.
                <span class="mx-2">|</span>
                <a href="#" class="text-white-50 text-decoration-none mx-1">Privacy Policy</a>
                <span class="mx-1">|</span>
                <a href="#" class="text-white-50 text-decoration-none mx-1">Terms of Service</a>
                <span class="mx-1">|</span>
                <a href="#" class="text-white-50 text-decoration-none mx-1">Cookie Settings</a>
            </div>
        </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

<style>
@media (max-width: 991px) {
    .how-it-works-cards {
        flex-direction: column !important;
        align-items: center;
    }
    .how-it-works-card {
        max-width: 98vw !important;
    }
}
.how-it-works-card {
    min-height: 280px;
    box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    border-radius: 18px;
    overflow: hidden;
    background: transparent;
    position: relative;
}
.how-it-works-img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 18px;
}
.how-it-works-card-overlay {
    pointer-events: none;
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
}
.how-it-works-card-content {
    pointer-events: none;
}
.how-it-works-card-link {
    pointer-events: auto;
}
.testimonials .card {
    background: #fafafa;
}
.testimonials .card-text {
    font-size: 1.05rem;
    color: #444;
    font-family: 'Quicksand', 'Nunito', 'Poppins', sans-serif;
}
.testimonials .fa-star, .testimonials .fa-star-half-alt {
    margin-right:2px;
}
#contactForm input::placeholder,
#contactForm textarea::placeholder {
    color: #aaa !important;
    opacity: 1;
}
#contactForm input,
#contactForm textarea {
    color: #fff !important;
}
</style>
<!-- Login Modal -->
<div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="loginModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-dark" id="loginModalLabel">Login</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="loginForm">
          <div class="mb-3">
            <label for="loginEmail" class="form-label text-dark">Email address</label>
            <input type="email" class="form-control" id="loginEmail" required>
          </div>
          <div class="mb-3">
            <label for="loginPassword" class="form-label text-dark">Password</label>
            <input type="password" class="form-control" id="loginPassword" required>
          </div>
          <button type="submit" class="btn btn-warning w-100">Login</button>
          <div id="loginMessage" class="mt-3"></div>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- Signup Modal -->
<div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="signupModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-dark" id="signupModalLabel">Signup</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="signupForm">
          <div class="mb-3">
            <label for="signupName" class="form-label text-dark">Full Name</label>
            <input type="text" class="form-control" id="signupName" required>
          </div>
          <div class="mb-3">
            <label for="signupEmail" class="form-label text-dark">Email address</label>
            <input type="email" class="form-control" id="signupEmail" required>
          </div>
          <div class="mb-3">
            <label for="signupPassword" class="form-label text-dark">Password</label>
            <input type="password" class="form-control" id="signupPassword" required>
          </div>
          <div class="mb-3">
            <label class="form-label text-dark">Signup as</label>
            <select class="form-select" id="signupRole" required>
              <option value="user">User</option>
              <option value="admin">Admin</option>
            </select>
          </div>
          <button type="submit" class="btn btn-warning w-100">Signup</button>
          <div id="signupMessage" class="mt-3"></div>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
// Check if user is already logged in
window.addEventListener('DOMContentLoaded', () => {
    const user = JSON.parse(localStorage.getItem('user'));
    if (user) {
        updateNavbar(user);
        // Show welcome message for logged-in users
        if (user.role === 'user') {
            document.getElementById('defaultMessage').style.display = 'none';
            document.getElementById('welcomeMessage').style.display = 'block';
            document.getElementById('userName').textContent = user.name;
        }
    }
});

// Signup Form Handler
document.getElementById('signupForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const name = document.getElementById('signupName').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const role = document.getElementById('signupRole').value;
    
    try {
        const response = await fetch('http://localhost:5000/api/auth/signup', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ name, email, password, role })
        });
        
        const data = await response.json();
        const messageDiv = document.getElementById('signupMessage');
        
        if (response.ok) {
            messageDiv.innerHTML = `<div class="alert alert-success">${data.message} Redirecting...</div>`;
            document.getElementById('signupForm').reset();
            
            // Auto-login after signup - save to localStorage
            setTimeout(() => {
                const user = { name, email, role };
                localStorage.setItem('user', JSON.stringify(user));
                
                // Close modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('signupModal'));
                modal.hide();
                
                // Redirect based on role
                if (role === 'admin') {
                    // Admin goes to admin panel
                    window.location.href = 'admin-panel.html';
                } else {
                    // User stays on home page with welcome message
                    updateNavbar(user);
                    document.getElementById('defaultMessage').style.display = 'none';
                    document.getElementById('welcomeMessage').style.display = 'block';
                    document.getElementById('userName').textContent = user.name;
                }
            }, 1000);
        } else {
            messageDiv.innerHTML = `<div class="alert alert-danger">${data.message}</div>`;
        }
    } catch (error) {
        document.getElementById('signupMessage').innerHTML = 
            `<div class="alert alert-danger">Error: ${error.message}</div>`;
    }
});

// Login Form Handler
document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    try {
        const response = await fetch('http://localhost:5000/api/auth/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email, password })
        });
        
        const data = await response.json();
        const messageDiv = document.getElementById('loginMessage');
        
        if (response.ok) {
            messageDiv.innerHTML = `<div class="alert alert-success">Login successful! Redirecting...</div>`;
            
            // Store user data from database response
            const user = {
                id: data.user.id,
                name: data.user.name,
                email: email,
                role: data.user.role
            };
            localStorage.setItem('user', JSON.stringify(user));
            
            // Close modal and redirect based on role
            setTimeout(() => {
                const modal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
                modal.hide();
                
                if (user.role === 'admin') {
                    // Admin goes to admin panel
                    window.location.href = 'admin-panel.html';
                } else {
                    // User stays on home page with welcome message
                    updateNavbar(user);
                    document.getElementById('defaultMessage').style.display = 'none';
                    document.getElementById('welcomeMessage').style.display = 'block';
                    document.getElementById('userName').textContent = user.name;
                }
            }, 1000);
        } else {
            messageDiv.innerHTML = `<div class="alert alert-danger">${data.message}</div>`;
        }
    } catch (error) {
        document.getElementById('loginMessage').innerHTML = 
            `<div class="alert alert-danger">Error: ${error.message}</div>`;
    }
});

// Update navbar to show user info and logout
function updateNavbar(user) {
    const navItems = document.querySelector('.navbar-nav');
    
    // Remove login/signup links
    const loginLink = navItems.querySelector('[data-bs-target="#loginModal"]')?.parentElement;
    const signupLink = navItems.querySelector('[data-bs-target="#signupModal"]')?.parentElement;
    
    if (loginLink) loginLink.remove();
    if (signupLink) signupLink.remove();
    
    // Add user info and logout
    const userInfo = document.createElement('li');
    userInfo.className = 'nav-item dropdown';
    userInfo.innerHTML = `
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Welcome, ${user.name}
        </a>
        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
            ${user.role === 'admin' ? '<li><a class="dropdown-item" href="admin-panel.html">Admin Panel</a></li>' : ''}
            ${user.role === 'user' ? '<li><a class="dropdown-item" href="my-adoption-requests.html">My Adoption Requests</a></li>' : ''}
            <li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
        </ul>
    `;
    navItems.appendChild(userInfo);
}

// Logout function
function logout() {
    localStorage.removeItem('user');
    window.location.reload();
}

// Contact Form Handler
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const name = document.getElementById('contactName').value;
    const email = document.getElementById('contactEmail').value;
    const message = document.getElementById('contactMessage').value;
    
    // Show success message
    const messageDiv = document.getElementById('contactFormMessage');
    messageDiv.innerHTML = `
        <div class="alert alert-success" style="background:#28a745; color:#fff; border:none;">
            ‚úì Your query has been sent successfully! We'll get back to you soon.
        </div>
    `;
    
    // Clear the form
    document.getElementById('contactForm').reset();
    
    // Hide message after 5 seconds
    setTimeout(() => {
        messageDiv.innerHTML = '';
    }, 5000);
    
    // Log to console (in production, you would send this to a backend)
    console.log('Contact Form Submission:', { name, email, message });
});
</script>